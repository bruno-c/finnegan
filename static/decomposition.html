<!DOCTYPE html>
<html>
<head>
</head>
<body>
	<h1 id="title">prime factors decomposition</h1>

	<form id="decomp">
		<fieldset>
			<p id="invitation">Enter a number. Push the button. Be very surprised when the prime factors show up</p>

			<input id="number">
			<button id="go" type="submit">GO</button>
		</fieldset>
	</form>
	<div id="result">
	</div>
	<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
	<script>
	$(function(){
		var $result = $('#result');

		$("#decomp").on('submit', function(e) {
			e.preventDefault();

			var num = $('#number').val();
			$result.empty();

			if (parseInt(num, 10) < 1) {
				$result.text(num + ' is not an integer > 1');
				return;
			}

			if (num.match(/^[0-9]+$/) === null) {
				$result.text(num + ' is not a number');
				return;
			}

			$.getJSON('/primeFactors?number=' + num, function(result) {
				if (result.error) {
					$result.text(result.error);
				}
				else {
					$result.text(num + ' = ' + result.decomposition.join(' x '));
				}
			});
		});
	});
	</script

</body>
</html>